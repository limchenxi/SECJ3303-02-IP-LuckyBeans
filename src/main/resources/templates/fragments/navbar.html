<div th:fragment="navbar">
    <!-- Add Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        .sidebar .nav-link {
            padding: 0.5rem 0;
            transition: all 0.3s ease;
        }
        .sidebar .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
            padding-left: 0.5rem;
            border-radius: 4px;
        }
        .material-icons {
            font-size: 20px;
        }

        /* ‚≠ê FIX: push page content to the right so sidebar does not block it */
        #page-content-wrapper {
            margin-left: 260px !important;  /* match sidebar width */
        }
    </style>
    
    <div class="d-flex">
        <!-- Sidebar -->
        <nav class="sidebar bg-primary text-white p-3" 
             style="width: 260px; min-height: 100vh; position: fixed; top: 0; left: 0;">
            <a class="navbar-brand d-flex align-items-center gap-2 mb-4" th:href="@{/}" style="text-decoration: none;">
                <img src="\resources\static\logoinnerly.png" alt="Innerly Logo" class="sidebar-logo" style="width: 40px; height: 40px;">
                <span class="fs-3 fw-bold text-white">Innerly</span>
            </a>
            <ul class="nav flex-column" style="gap: 0.25rem;">
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/progress/dashboard}">
                        <span class="material-icons">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <!-- Peer Forum -->
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/forum}">
                        <span class="material-icons">forum</span>
                        <span>Peer Forum</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/self-care}">
                        <span class="material-icons">self_improvement</span>
                        <span>Self-Care Guide</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/symptoms}">
                        <span class="material-icons">psychology</span>
                        <span>Symptoms Recognition</span>
                    </a>
                </li>
                <!-- Student -->
                <li class="nav-item" sec:authorize="hasRole('STUDENT')">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/counselling/schedule}">
                        <span class="material-icons">event</span>
                        <span>Schedule Counselling</span>
                    </a>
                </li>
                <!-- Counsellor -->
                <li class="nav-item" sec:authorize="hasRole('COUNSELLOR')">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/counselling/approval}">
                        <span class="material-icons">check_circle</span>
                        <span>Approve Sessions</span>
                    </a>
                </li>
                <!-- Progress -->
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/progress/mood}">
                        <span class="material-icons">mood</span>
                        <span>Mood Tracker</span>
                    </a>
                </li>
                
                <!-- Awareness -->
                <li class="nav-item">
                    <a class="nav-link text-white d-flex align-items-center gap-3" th:href="@{/awareness/resources}">
                        <span class="material-icons">menu_book</span>
                        <span>Educational Resources</span>
                    </a>
                </li>
            </ul>
            <hr class="text-white my-3">
            <!-- User Info -->
            <div sec:authorize="isAuthenticated()" class="mb-3 d-flex align-items-center gap-3 px-0">
                <span class="material-icons">account_circle</span>
                <span>Hello, <strong th:text="${#authentication?.name}">User</strong></span>
            </div>
            <!-- Auth Buttons -->
            <div>
                <a class="btn btn-outline-light btn-sm w-100 mb-2 d-flex align-items-center justify-content-center gap-2" 
                   sec:authorize="isAuthenticated()" th:href="@{/logout}">
                    <span class="material-icons" style="font-size: 18px;">logout</span>
                    <span>Logout</span>
                </a>
                <a class="btn btn-light btn-sm w-100 d-flex align-items-center justify-content-center gap-2" 
                   sec:authorize="!isAuthenticated()" th:href="@{/login}">
                    <span class="material-icons" style="font-size: 18px;">login</span>
                    <span>Login</span>
                </a>
            </div>
        </nav>
    </div>
</div>
